### 소프트웨어 디자인 패턴이란?

**소프트웨어 디자인 패턴**(software design pattern)은 [소프트웨어 공학](https://ko.wikipedia.org/wiki/소프트웨어_공학)에서 [소프트웨어 디자인](https://ko.wikipedia.org/wiki/소프트웨어_디자인)에서 특정 문맥에서 공통적으로 발생하는 문제에 대해 재사용 가능한 해결책이다. 소스나 기계 코드로 바로 전환될수 있는 완성된 디자인은 아니며, 다른 상황에 맞게 사용될 수 있는 문제들을 해결하는데에 쓰이는 서술이나 **<u>템플릿</u>**이다. 디자인 패턴은 프로그래머가 어플리케이션이나 시스템을 디자인할 때 공통된 문제들을 해결하는데에 쓰이는 형식화 된 가장 좋은 **<u>관행</u>**이다.





### MVC패턴

![img](https://media.vlpt.us/images/nomadhash/post/5beef914-16a1-459c-8e84-426f0e1c6b99/%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%85%E1%85%A9%E1%84%83%E1%85%B3%20(4).png)

- Model, View, Controller를 합친 용어이다. 

- 어플리케이션의 코드를 모델, 뷰, 컨트롤러의 역할을 나눠 관리한다는 일종의 코딩 방법론이다. 

- 컨트롤러는 모델에 명령을 보냄으로써 모델의 상태를 변경할 수 있다. 

- 모델은 모델의 상태에 변화가 있을 때 컨트롤러와 뷰에 이를 통보한다. 이와 같은 통보를 통해서 뷰는 최신의 결과를 보여줄 수 있고, 컨트 롤러는 모델의 변화에 따른 적용 가능한 명령을 추가, 제거, 수정할 수 있다. 

- 뷰는 사용자가 볼 결과물을 생성하기 위해 모델로부터 정보를 얻어온다.



### MVC패턴의 한계와 Flux 패턴의 등장

![Facebook에서 이야기 하는 MVC의 단점](https://blog.kakaocdn.net/dn/ALrHe/btqBTMSuHfN/ZlW9i9ET34e90APgCRChk1/img.png)

기존 MVC 패턴이 갖고 있던 가장 큰 단점은 양방향 데이터 흐름이다. 특히 Model이 업데이트 되면 View가 이걸 화면에 반영하고, View 또한 Model을 업데이트 할 수 있다.  앱의 구조가 단순하다면 문제가 되지 않지만 어플리케이션의 규모가 거대해진다면 View와 Model사이의 <u>데이트흐름이 기하급수적으로 복잡해진다.</u> 





![페이스북 알림버그](https://blog.kakaocdn.net/dn/AeyYk/btqBO7RutbO/jF8wxI6kwsXxKk2Qg6D5dk/img.png)

이러한 시스템 복잡도가 야기했던 대표적인 문제가 페이스북의 알림 버그이다. 새로운 메시지가 없는데도 알림이 계속 뜨는 버그였는데 아무리 해결해도 주기적으로 유사한 버그가 발생했다고 한다. 이와 같은 문제에 대해  페이스북은 어플리케이션을 보다 예측 가능한 방향으로 설계해야 한다는 결론을 내렸다. 그리고 기존 MVC패턴의 양방향 데이터 흐름이 아닌 FLUX패턴이라는 단방향 데이터 흐름을 도입한다. 



### Flux의 단방향 데이터 흐름

![img](https://media.vlpt.us/images/nomadhash/post/6f6ad4ee-4fb7-4072-8565-c8aa28a2f0a5/05.png)





Flux의 가장 큰 특징은 단방향 데이터 흐름이다. 

디스패처에서 스토어, 스토어에서 뷰, 뷰는 다시 액션을 만들어서 디스패처부터 이와 같은순서를 반복한다.

**디스패처 :** 플럭스 패턴의 모든 데이터 흐름을 관리하는 허브 역할을 하는 부분이다. 액션이 발생하면 디스패처로 전달되고, 디스패처로 전달된 액션을 보고, 스토어에 데이터를 전달한다.

**스토어 :** 어플리케이션 모든 상태 변경을 결정한다. 스토어가 변경되면 뷰에 변경되었다는 사실을 알려주게 된다. 

**뷰 :**  flux에서의 뷰는 mvc의 뷰와 달리 화면을 보여주는 것 외에도 컨트롤러의 성격 또한 가지고 있따. 특히 최상위 뷰는 스토어에서 데이터를 가져와 이를 자식 view로 내려보내주는 역할을 하고 있기에 컨트롤러-뷰라고도 부른다.

**액션 :**  store 업데이트는 dispatch에서 데이터가 담겨져 있는 객체를 인자로 하는 콜백 함수를 통해 이뤄진다. 이 객체를 Action이라고 한다. Action은 대체로 액션 생성자로 만들어 진다.





